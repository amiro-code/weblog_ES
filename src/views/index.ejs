<%- include("partials/header") %>

<section class="hero">
  <h1>WeblogES</h1>
  <p class="muted">A clean and simple blog built with MVC architecture.</p>
</section>

<section class="card">
  <div class="card__header">
    <h2>Latest Posts</h2>
    <a class="link" href="/posts/new">Create a post</a>
  </div>

  <% if (!posts || posts.length === 0) { %>
    <p class="muted">No posts yet. Create your first one!</p>
  <% } else { %>
    <div class="postlist">
      <% posts.forEach(post => { %>
        <a class="postitem" href="/posts/<%= post.id %>">
          <div class="postitem__title"><%= post.title %></div>
          <div class="postitem__meta">
            <span class="muted">ID: <%= post.id %></span>
            <span class="dot">â€¢</span>
            <span class="muted"><%= new Date(Number(post.createdAt)).toLocaleString() %></span>
          </div>
        </a>
      <% }) %>
    </div>
  <% } %>
</section>

<%- include("partials/footer") %>
